<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
     @import url('https://fonts.googleapis.com/css2?family=Kalam&family=Merriweather+Sans:ital,wght@1,500&family=Shadows+Into+Light&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Chivo:ital,wght@1,300&family=Exo+2:ital,wght@0,400;0,500;1,400&family=Radio+Canada:wght@500&family=Satisfy&display=swap');
</style>
      
    <style>
      
       .home{
        margin: 10px;
            width: 100%;
            display: flex;
            flex-direction: column;
          
        }
       .container{
            width:auto ;
            max-width: 100vw;
            height: 100vh;
            border: 3px solid #b7d5d4;
            border-radius: 30px;
            background-color: #d8efee;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            flex: 1 0 30%; /* Each item takes up 30% of the container width (adjust as needed) */
            margin: 7px; 
        }

        .content{
          display: flex;

        }
        .head{
            display: flex;
            flex-direction: column;
            justify-content: space-evenly;
            width: 100%;
            height: 350px;
            overflow: hidden;
            text-align: center;
        }
       
        .image{
            width: 50%;
            height: 70%;
            border-radius: 50px;
            overflow: hidden;
            object-fit: cover;
            margin: 30px 10px 0 20px;
            
        
        }
        #tImg{
            width: 90%;
            height: 90%;   
            border: 1px solid black; 
            
        }
        .para{
          height: 150px;
            border: 1px solid black;
            font-family:'Satisfy';
            font-size: x-large;
            margin: 5px;
        }
        h4{
          text-align: center;
        }   /* Basic styles for the navbar */  
        /* Navbar styles */
.navbar {
  background-color:#bbbfd9;
  font-family: 'Merriweather Sans';
  color: black;
  padding: 10px 20px;
  align-items: center;
  margin: -7px;
}
.showMore{
  text-decoration: none;
  font-family: 'Merriweather Sans';
  color: black;
  font-size: small;
}
a{
  text-decoration: none;
  color: black;
}
.showMore:hover{
  color: #747db0;
 
}
#title{
  font-family: 'Kalam';
   
}

.container1 {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.navbar-brand {
  display: flex;
  align-items: center;
  text-decoration: none;
  
}

.navbar-brand .logo {
  width: 40px;
  height: auto;
  margin-right: 10px;
}

.navbar-brand .title {
  font-weight: bold;
  font-size: 1.2em;
}


.nav-item {
  position: relative;
  margin-right:  20px;
  
}

.nav-link {
  text-decoration: none;
  align-items: center;
  cursor: pointer;

 
}

.dropdown-menu {
  display: none;
  position: absolute;
  top: 100%;
  left: 0;
  background-color: #bbbfd9;
  list-style: none;
  padding: 0;
  margin-top: 5px;
  z-index: 1; /* Ensures the dropdown appears above other elements */
}


.nav-item:hover .dropdown-menu {
  display: block;
}

.dropdown-item {
  display: block;
  text-decoration: none;
  padding: 8px 20px;
}

.dropdown-item:hover {
  background-color: #9097C0;
}
.buttonDrop{
  background-color: transparent;
  color: black;
  width: 100%;
  height: 40px;
  text-align: center;
  border: transparent;
  z-index: -1;

}
.buttonDrop:hover{
  background-color: #9097C0;
}
.profile{
  display: flex;
  gap: 10px;
  align-items: center;
  
 
}


.profileImg{
  width: 30px;
  height: 30px;
  border-radius: 50%;
  overflow: hidden;
  object-fit: cover;
}
.last{
  display: flex;
  gap: 10px;
  align-items: center;
  font-family: 'Chivo';
  width: 40%;
 justify-content: space-evenly;
  
}
.home1{
  margin-right: 10px;
}
       

    </style>
    
</head>
<body>
  <nav class="navbar">
    <div class="container1">
      <a class="navbar-brand" href="#">
        <img src="path/to/logo.png" alt="Logo" class="logo">
        <span class="title">Blog Show</span>
      </a>
      <div class="last">
        <div class="home1">
          <a href="home.html" class="nav-link">Home</a>
        </div>
        <div class="nav-item dropdown">
          <div class="nav-link dropdown-toggle">Categoriesâ–¼ 
            <ul class="dropdown-menu">
              <li><button onclick="autoMobile()" class="buttonDrop">AutoMobile</button></li>
              <li><button onclick="business()" class="buttonDrop">Business</button></li>
            </ul>
          </div>
        </div>
        <div class="addBlog">
          <a href="userInput.html" >Add Blog</a>
        </div>
        <div class="profile">
          <img src="second blog.webp" alt="img" class="profileImg">
          <div class="text"><p>Hlo, Nischay</p></div>
        </div>
      </div>
    </div>
  </nav>
  
  
  



<div class="home" id="home"></div>
    

</body>

<script>
  window.onload = function() {
   homie();
};
function homie() {
  const url = "https://api.nytimes.com/svc/news/v3/content/all/all.json?api-key=WMfcHfq9NyQu04di2Lfj0hl9Vfzjr99m";
  const options = {
    method: "GET",
    headers: {
      "Accept": "application/json"
    },
  };
  fetch(url, options)
    .then(response => {
      console.log('Response status:', response.status);
      if (response.ok) {
        return response.json();
      }
      return response.json().then(err => {
        console.log('Error response:', err);
        return Promise.reject({
          status: response.status,
          statusText: response.statusText,
          errorMessage: err,
        });
      });
    })
    .then(data => {
      console.log(data);
      showData(data);
      
      
    })
    .catch(err => {
      console.error('Fetch error:', err);
    });
}

function autoMobile() {
  document.getElementById('home').innerHTML = '';
  const url = "https://api.nytimes.com/svc/topstories/v2/automobiles.json?api-key=lGHHhr8G8zn0mUxHrVXLc7CDPUxTN9Ie"  /*"https://api.nytimes.com/svc/news/v3/content/nyt/business.json?api-key=WMfcHfq9NyQu04di2Lfj0hl9Vfzjr99m"*/;
  const options = {
    method: "GET",
    headers: {
      "Accept": "application/json"
    },
  };
  fetch(url, options).then(
    response => {
      if (response.ok) {
        return response.json();
      }
      return response.json().then(err => {
        return Promise.reject({
          status: response.status,
          statusText: response.statusText,
          errorMessage: err,
        });
      });
    })
    .then(data => {
      showData(data);

    })
    .catch(err => {
      console.error(err);
    });
}

function business() {
  document.getElementById('home').innerHTML = '';
  const url = "https://api.nytimes.com/svc/news/v3/content/nyt/business.json?api-key=WMfcHfq9NyQu04di2Lfj0hl9Vfzjr99m";
  const options = {
    method: "GET",
    headers: {
      "Accept": "application/json"
    },
  };
  fetch(url, options).then(
    response => {
      if (response.ok) {
        return response.json();
      }
      return response.json().then(err => {
        return Promise.reject({
          status: response.status,
          statusText: response.statusText,
          errorMessage: err,
        });
      });
    })
    .then(data => {
      showData(data);
   
})
    
      
    .catch(err => {
      console.error(err);
    });
}


















function showData(data){

  const homeContainer = document.getElementById('home');

for (let i = 0; i < data.num_results; i++) {
  const article = data.results[i];
  
  // Selecting the URL of the image at index 2 in the 'multimedia' array
  const imageAtIndex2 = article.multimedia[2];
  const imageUrl = imageAtIndex2 ? imageAtIndex2.url : ''; // Getting the image URL at index 2

  // Create elements
  const container = document.createElement('div');
  container.classList.add('container');

  const content = document.createElement('div');
  content.classList.add('content');

  const head = document.createElement('div');
  head.classList.add('head');

  const title = document.createElement('div');
  title.id = 'title';
  title.innerHTML = `<h1>${article.title}</h1>`;
  head.appendChild(title);

  const para = document.createElement('div');
  para.classList.add('para');
  para.innerHTML = `<p>${article.abstract} <br>.....<a href="${article.url}" class="showMore" target="_blank">Show More</a></p>`;
  head.appendChild(para);

  const image = document.createElement('div');
  image.classList.add('image');
  const img = document.createElement('img');
  img.src = imageUrl; // Set the image URL at index 2
  img.id = `tImg_${i}`;
  img.classList.add('tImg');
  image.appendChild(img);

  content.appendChild(head);
  content.appendChild(image);

  container.appendChild(content);

  homeContainer.appendChild(container);
}
    
   
}
      
  /*const container = document.getElementById('home');
      data.results.forEach((result, index) => {
        const resultDiv = document.createElement('div');
        resultDiv.classList.add('container');
        const contentDiv = document.createElement('div');
        contentDiv.classList.add('content');
        
        const headDiv = document.createElement('div');
        headDiv.classList.add('head');

        const titleDiv = document.createElement('div');
        titleDiv.id = 'title';
        const titleHeading = document.createElement('h1');
        titleHeading.textContent = result.title;
        titleDiv.appendChild(titleHeading);

        const paraDiv = document.createElement('div');
        paraDiv.classList.add('para');
        const paragraph = document.createElement('p');
        paragraph.textContent = result.abstract; 
        paraDiv.appendChild(paragraph);

     

      headDiv.appendChild(titleDiv);
      headDiv.appendChild(paraDiv);
      
      const imageDiv = document.createElement('div');
       imageDiv.classList.add('image');
       const image = document.createElement('img');
       if (result.multimedia && result.multimedia.length > 0) {
        image.src = result.multimedia[2].url; 
        image.alt = 'Image';
      }
      imageDiv.appendChild(image);

     contentDiv.appendChild(headDiv);
     contentDiv.appendChild(imageDiv);

     resultDiv.appendChild(contentDiv);

     container.appendChild(resultDiv);
    });*/


    


</script>

    

</html>